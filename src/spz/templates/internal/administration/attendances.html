{% extends 'internal/internal.html' %}
{% from 'formhelpers.html' import csrf_field, render_submit, attendance_status, render_boolean %}

{% block caption %}
    Kurs: <a href="{{ url_for('language', id=course.language.id) }}">{{ course.language.name }}</a> {{ course.level }}
    {{ course.alternative }}
{% endblock caption %}


{% block internal_body %}
    <div>
        <a href=" {{ url_for('teacher', id=teacher.id) }} "><button type="button" class="ui button">Zurück zu meinen Kursen</button></a>
    </div>
    <div class="row">
        <div class="ui message">
            <div class="header">Infos</div>
            <dl>
                <dt>Sprache &gt; exaktes Kurs-Level{% if course.alternative %} &gt;
                    Alternative/Variante{% endif %}</dt>
                <dd>{{ course.language.name }} &gt;
                    {{ course.level }}{% if course.alternative %} &gt; {{ course.alternative }}{% endif %}</dd>
                <dt>Kursgröße (maximal)</dt>
                <dd>{{ course.limit }} Teilnehmer</dd>
                <dt>Kosten (für nicht-gratis Teilnehmer)</dt>
                <dd>{{ course.price }} €</dd>
                {% if course.rating_lowest != 0 or course.rating_highest != 100 %}
                    <dt>Benötigtes Testergebnis (inklusive Grenzen)</dt>
                    <dd>{{ course.rating_lowest }}% &mdash; {{ course.rating_highest }}%</dd>
                {% endif %}
                <dt>Meiste Abwesenheiten bsp.</dt>
                <dd>{% if course.has_waiting_list %}Ja{% else %}Nein{% endif %}</dd>
            </dl>
        </div>
    </div>
    <div class="ui section divider"></div>
    <div class="row">
        <h2>Übersicht Anwesenheit</h2>
    </div>
    <div class="row">
        <table class="ui selectable sortable compact small striped table">
            <thead>
            <tr>
                <th>Vorname</th>
                <th>Nachname</th>
                <th>Anwesend</th>
                <th>Gefehlt</th>
                <th>Entschuldigt</th>
                <th>Gesamt</th>
            </tr>
            </thead>
            <tbody>
            {% for attendance in course.attendances %}
                <tr>
                    <td><a
                        href="{{ url_for('applicant', id=attendance.applicant.id) }}">{{ attendance.applicant.first_name }}</a>
                    </td>
                    <td><a
                        href="{{ url_for('applicant', id=attendance.applicant.id) }}">{{ attendance.applicant.last_name }}</a>
                    </td>
                    <td>other</td>
                    <td>adapt</td>
                    <td>
                        adapt
                    </td>
                    <td>
                        adapt
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

{% endblock internal_body %}
